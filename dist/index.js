(()=>{"use strict";const e="https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/OVt2ojashXpuoe0YsT1u/scores",t=async()=>await fetch(e);let c=1;const n=async e=>{const s=document.querySelector(".table-body"),a=document.querySelector(".pagination"),r=function(e=1,t,c){const n=t*(e-=1);return c.slice(n,n+t)}(c,5,e);s.innerHTML="",r.forEach((e=>{const t=document.createElement("tr");t.className="tr-row",t.innerHTML=`<td class="d-flex align-items-center"> <span class="user-icon"><i class="fa fa-user-circle"></i></span>${e.user} : ${e.score}</td>`,s.appendChild(t)})),function(e,s){s.innerHTML="";for(let a=1;a<=e;a+=1){const e=document.createElement("li");e.className="p-item rounded-circle text-center d-flex justify-content-center",e.id=a,c==e.id&&(e.classList.add("bg-primary"),e.classList.add("p-active")),e.addEventListener("click",(async()=>{c=e.id;const s=await t(),{result:a}=await s.json();n(a)})),e.innerHTML=`${a}`,s.appendChild(e)}}(Math.ceil(e.length/5),a)};const s=document.querySelector("form"),a=document.querySelector(".inputName"),r=document.querySelector(".inputScore");document.querySelector(".refrech").addEventListener("click",(async()=>{const e=await t(),{result:c}=await e.json();n(c)})),s.addEventListener("submit",(async t=>{try{t.preventDefault();const c={user:a.value,score:r.value},n=await(async t=>(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json())(c),{result:s}=await n;console.log(s),document.querySelector(".success").innerHTML=s?`<i class="fa fa-check-circle-o"></i>${s}`:'<span class="text-danger"> <i class="fa fa-times-circle"></i> \n      Error incorrect user</span>',r.value="",a.value=""}catch(e){document.querySelector(".success").innerHTML=`<i class="fa fa-check-circle-o"></i>\n                ${e}`}})),window.onload=async()=>{const e=await t(),{result:c}=await e.json();n(c)}})();