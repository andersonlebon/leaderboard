(()=>{"use strict";const e="https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/bwkANb7WQHsP46ADhdAE/scores",t=async()=>await fetch(e);let n=1;const c=async e=>{const s=document.querySelector(".table-body"),a=document.querySelector(".pagination"),o=function(e=1,t,n){const c=t*(e-=1);return n.slice(c,c+t)}(n,5,e);s.innerHTML="",o.forEach((e=>{const t=document.createElement("tr");t.className="tr-row",t.innerHTML=`<td> <span class="user-icon"><i class="fa fa-user-circle"></i></span>${e.user} : ${e.score}</td>`,s.appendChild(t)})),function(e,s){s.innerHTML="";for(let a=1;a<=e;a+=1){const e=document.createElement("li");e.className="p-item rounded-circle text-center d-flex justify-content-center",e.id=a,n==e.id&&(e.classList.add("bg-primary"),e.classList.add("p-active")),e.addEventListener("click",(async()=>{n=e.id;const s=await t(),{result:a}=await s.json();c(a)})),e.innerHTML=`${a}`,s.appendChild(e)}}(Math.ceil(e.length/5),a)};const s=document.querySelector("form"),a=document.querySelector(".inputName"),o=document.querySelector(".inputScore");document.querySelector(".refrech").addEventListener("click",(async()=>{const e=await t(),{result:n}=await e.json();c(n)})),s.addEventListener("submit",(async t=>{t.preventDefault();(async t=>{(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()})({user:a.value,score:o.value})})),window.onload=async()=>{const e=await t(),{result:n}=await e.json();c(n)}})();